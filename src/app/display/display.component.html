<html>
<body>

<div class = "flexContainer">

	<div class = "imageContainer">

		<div class = "original">
			<p> Original Image</p>
			<canvas id = "canvasOriginal" width="350" height = "350"> </canvas>
		</div>


		<div class = "difference">
			<p> Perturbation (amplified) </p>			
			<canvas id = "canvasDifference" width="350" height = "350"> </canvas>
		</div>

		<div class = "adversarial">
			<p> Adversarial Image {{adversarialImageModelNameSource}}</p>
			<canvas id = "canvasAdversarial" width="350" height = "350"> </canvas>
		</div>

	</div>

	<mat-divider></mat-divider>

	<!-- TODO: ADD MODEL NAME TO HEADER -->

	<!-- ng-if="!allModelPredictions"> -->
	<div class = "predictionsContainer">
		<div class = "predictions" *ngFor="let modelPrediction of allModelPredictions">

			<table class = "prediction original" mat-table [dataSource]="modelPrediction.originalPredictions">
		    	<tr mat-header-row *matHeaderRowDef="columnsToDisplay"> </tr>
		    	<tr mat-row *matRowDef="let row; columns: columnsToDisplay;"></tr>

	      <!-- Class Name -->
	      <ng-container matColumnDef="className">
	        <th mat-header-cell *matHeaderCellDef> Class Name </th>
	        <td mat-cell *matCellDef="let originalPrediction"> {{ originalPrediction.className }} </td>
	      </ng-container>

	      <!-- Confidence -->
	      <ng-container matColumnDef="confidence">
	        <th mat-header-cell *matHeaderCellDef> Confidence </th>
	        <td mat-cell *matCellDef="let originalPrediction"> {{originalPrediction.confidence}} </td>
	      </ng-container>

		  </table>

			<table class = "prediction adversarial" mat-table [dataSource]="modelPrediction.adversarialPredictions">
		    	<tr mat-header-row *matHeaderRowDef="columnsToDisplay"> </tr>
		    	<tr mat-row *matRowDef="let row; columns: columnsToDisplay;"></tr>

	      <!-- Class Name -->
	      <ng-container matColumnDef="className">
	        <th mat-header-cell *matHeaderCellDef> Class Name </th>
	        <td mat-cell *matCellDef="let adversarialPrediction"
	        [ngClass]="{'red':adversarialPrediction.colour == 'red',
									    'orange':adversarialPrediction.colour == 'orange',
									    'green':adversarialPrediction.colour == 'green'}">
	      	{{ adversarialPrediction.className }} </td>
	      </ng-container>

	      <!-- Confidence -->
	      <ng-container matColumnDef="confidence">
	        <th mat-header-cell *matHeaderCellDef> Confidence </th>
	        <td mat-cell *matCellDef="let adversarialPrediction"> {{adversarialPrediction.confidence}} </td>
	      </ng-container>	      

		  </table>

		</div>
	</div>

</div>
</body>
</html>
